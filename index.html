<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Speed Reader - RSVP</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="header">
        <h1>Speed Reader</h1>
        <div class="controls">
            <div class="speed-control">
                <label for="speedSlider">Speed:</label>
                <input type="range" id="speedSlider" min="100" max="1000" value="300" step="50">
                <span class="speed-value"><span id="speedValue">300</span> WPM</span>
            </div>
            <button class="theme-toggle" id="themeToggle">Dark Mode</button>
        </div>
    </div>

    <div class="main-container">
        <!-- Left Panel: Text Input -->
        <div class="panel">
            <h2>Paste Your Text</h2>
            <textarea id="textInput" placeholder="Paste your article, essay, or any text here..."></textarea>
            <button class="process-btn" id="processBtn">Process Text</button>

            <div class="divider">
                <span>OR</span>
            </div>

            <div class="pdf-upload-section">
                <h2>Upload PDF</h2>
                <input type="file" id="pdfInput" accept=".pdf" style="display: none;">
                <button class="upload-btn" id="uploadBtn">Choose PDF File</button>
                <div id="pdfStatus" class="pdf-status"></div>
            </div>
        </div>

        <!-- Middle Panel: Paragraph Selection -->
        <div class="panel">
            <div class="panel-header">
                <h2>Select Paragraph</h2>
                <button class="read-all-btn" id="readAllBtn" disabled>Read All</button>
            </div>
            <div id="paragraphList">
                <div class="empty-state">Paste text and click "Process Text" to see paragraphs here.</div>
            </div>
        </div>

        <!-- Right Panel: Speed Reading Display -->
        <div class="panel display-panel">
            <div class="word-display" id="wordDisplay">Ready</div>
            <div class="playback-controls">
                <button class="control-btn" id="playBtn" disabled>Play</button>
                <button class="control-btn" id="pauseBtn" disabled>Pause</button>
                <button class="control-btn" id="resetBtn" disabled>Reset</button>
            </div>
            <div class="progress-info" id="progressInfo">Select a paragraph to begin</div>
        </div>
    </div>

    <!-- PDF.js Library -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.11.174/pdf.min.js"></script>
    <script>
        // Configure PDF.js worker
        pdfjsLib.GlobalWorkerOptions.workerSrc = 'https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.11.174/pdf.worker.min.js';
    </script>
    <script src="script.js"></script>
</body>
</html>
